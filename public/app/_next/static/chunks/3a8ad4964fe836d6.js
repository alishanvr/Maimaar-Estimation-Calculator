(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55631,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(57951),t=e.i(9165);async function n(e){return(await t.default.put("/user/profile",e)).data}async function l(e){return(await t.default.put("/user/password",e)).data}function d(){let{user:e,refreshUser:t}=(0,r.useAuth)(),[d,o]=(0,s.useState)({name:e?.name??"",email:e?.email??"",company_name:e?.company_name??"",phone:e?.phone??""}),[i,m]=(0,s.useState)(""),[c,p]=(0,s.useState)({}),[u,x]=(0,s.useState)(!1),[h,g]=(0,s.useState)({current_password:"",password:"",password_confirmation:""}),[b,y]=(0,s.useState)(""),[w,j]=(0,s.useState)({}),[f,N]=(0,s.useState)(!1),v=async e=>{e.preventDefault(),p({}),m(""),x(!0);try{await n(d),await t(),m("Profile updated successfully.")}catch(e){e.response?.data?.errors?p(e.response.data.errors):p({general:["Failed to update profile."]})}finally{x(!1)}},_=async e=>{e.preventDefault(),j({}),y(""),N(!0);try{await l(h),y("Password changed successfully."),g({current_password:"",password:"",password_confirmation:""})}catch(e){e.response?.data?.errors?j(e.response.data.errors):j({general:["Failed to change password."]})}finally{N(!1)}},C="w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 placeholder-gray-400 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition";return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage your account information and password"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),(0,a.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[i&&(0,a.jsx)("div",{className:"bg-green-50 text-green-700 text-sm rounded-lg p-3 border border-green-200",children:i}),c.general&&(0,a.jsx)("div",{className:"bg-red-50 text-red-700 text-sm rounded-lg p-3 border border-red-200",children:c.general[0]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"name",type:"text",required:!0,value:d.name,onChange:e=>o({...d,name:e.target.value}),className:C,placeholder:"Your name"}),c.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.name[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"email",type:"email",required:!0,value:d.email,onChange:e=>o({...d,email:e.target.value}),className:C,placeholder:"you@example.com"}),c.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.email[0]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"company_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),(0,a.jsx)("input",{id:"company_name",type:"text",value:d.company_name??"",onChange:e=>o({...d,company_name:e.target.value||null}),className:C,placeholder:"Your company"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,a.jsx)("input",{id:"phone",type:"text",value:d.phone??"",onChange:e=>o({...d,phone:e.target.value||null}),className:C,placeholder:"Your phone number"})]})]}),(0,a.jsx)("div",{className:"flex justify-end pt-2",children:(0,a.jsx)("button",{type:"submit",disabled:u,className:"bg-primary text-white px-5 py-2 rounded-lg text-sm font-medium hover:bg-primary/80 transition disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":"Save Changes"})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),(0,a.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[b&&(0,a.jsx)("div",{className:"bg-green-50 text-green-700 text-sm rounded-lg p-3 border border-green-200",children:b}),w.general&&(0,a.jsx)("div",{className:"bg-red-50 text-red-700 text-sm rounded-lg p-3 border border-red-200",children:w.general[0]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Password ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"current_password",type:"password",required:!0,value:h.current_password,onChange:e=>g({...h,current_password:e.target.value}),className:C,placeholder:"Enter current password"}),w.current_password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:w.current_password[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700 mb-1",children:["New Password ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"new_password",type:"password",required:!0,value:h.password,onChange:e=>g({...h,password:e.target.value}),className:C,placeholder:"Minimum 8 characters"}),w.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:w.password[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm New Password ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"password_confirmation",type:"password",required:!0,value:h.password_confirmation,onChange:e=>g({...h,password_confirmation:e.target.value}),className:C,placeholder:"Re-enter new password"})]}),(0,a.jsx)("div",{className:"flex justify-end pt-2",children:(0,a.jsx)("button",{type:"submit",disabled:f,className:"bg-primary text-white px-5 py-2 rounded-lg text-sm font-medium hover:bg-primary/80 transition disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Changing...":"Change Password"})})]})]})]})}e.s(["default",()=>d],55631)}]);